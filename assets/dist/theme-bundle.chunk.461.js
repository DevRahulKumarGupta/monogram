"use strict";(self.webpackChunkbigcommerce_cornerstone=self.webpackChunkbigcommerce_cornerstone||[]).push([[461],{21461:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var i=r(49230),n=r(37030),o=r(28350),a=r(78341),l=r(55825),c=function(){function e(e){this.$player=e.find("[data-video-player]"),this.$videos=e.find("[data-video-item]"),this.currentVideo={},this.bindEvents()}var t=e.prototype;return t.selectNewVideo=function(e){e.preventDefault();var t=l(e.currentTarget);this.currentVideo={id:t.data("videoId"),$selectedThumb:t},this.setMainVideo(),this.setActiveThumb()},t.setMainVideo=function(){this.$player.attr("src","//www.youtube.com/embed/"+this.currentVideo.id)},t.setActiveThumb=function(){this.$videos.removeClass("is-active"),this.currentVideo.$selectedThumb.addClass("is-active")},t.bindEvents=function(){this.$videos.on("click",this.selectNewVideo.bind(this))},e}(),u=r(67313),d=r(44505),s=r(55825);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}if(s("#testing").data("monogram-image")){var p=document.querySelector("#monogram"),f=document.querySelectorAll(".form-field.querryThis"),v="";f.forEach((function(e){v+=e.outerHTML})),v=v.replace(/style="display:none;"/g,"");var y=!1;p.addEventListener("click",(function(){y=!y,(0,d._Z)().open();var e='\n        <div class="container" style="display:flex; justify-content: space-between; padding:0; align-items: center;">\n        <div class="monogrammer-preview__image" style="position: relative;">\n            <img style="width: 100%; display:block; position:relative;" src="'+s("#testing").data("monogram-image")+'">\n            <span class="monogrammer-preview__items-container" style="color: #fff; font-size: 3rem; font-size: 3.8vw; line-height: 1; font-family: Martel, serif; display: inline-block; position: absolute; left: 0; top: 43%; width: 300px; word-wrap: break-word; right: 0; margin: auto; text-align: center;">\n                <span class="monogrammer-preview__item"></span>\n                <span class="monogrammer-preview__icons hide"></span>\n            </span>\n        </div>\n        <div id="inputsModifiers" style="margin:auto">\n        '+v+'\n            <button class="button--primary" id="modelClose" style="padding:10px; border-radius:5px;">ADD THIS MONOGRAM</button>\n            <button class="button--primary-reset" id="modelCloseAndReset" style="padding:10px; border-radius:5px;">RESET & CLOSE</button>\n\n        </div>\n    </div>\n    \n        ';s("#modal").find(".modal-content").append(e),setTimeout((function(){s(".loadingOverlay").hide()}),1e3);var t=document.querySelector('#inputsModifiers input[type="text"]');t.value=document.querySelector(".productView-options .form-field.querryThis input.form-input.form-input--small").value,document.querySelector("span.monogrammer-preview__item").innerText=document.querySelector(".productView-options .form-field.querryThis input.form-input.form-input--small").value,t.addEventListener("keyup",(function(e){var t=e.target.value;document.querySelector("span.monogrammer-preview__item").innerText=t,document.querySelector(".productView-options .form-field.querryThis input.form-input.form-input--small").value=t}));for(var r,i=document.querySelectorAll("#inputsModifiers label.form-option"),n=document.querySelector('.productView-details.product-options div.form-field.querryThis input.form-radio[type="radio"]:checked'),o=function(){var e=r.value;e.addEventListener("click",(function(){e.parentElement.querySelector('input[type="radio"]').checked=!0,document.querySelector("span.monogrammer-preview__item").style.color=e.querySelector(".form-option-variant").style["background-color"]?e.querySelector(".form-option-variant").style["background-color"]:"white",document.querySelector('#inputsModifiers .form-field.querryThis[data-product-attribute="swatch"] label.form-label.form-label--alternate.form-label--inlineSmall span').innerText=e.querySelector("span").title})),e.parentElement.querySelector("input").getAttribute("aria-label")==n.getAttribute("aria-label")&&e.click()},a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(r=a()).done;)o();document.querySelector("#modelClose").addEventListener("click",(function(){document.querySelector("button.modal-close").click()})),document.querySelector("#modelCloseAndReset").addEventListener("click",(function(){i[0].click(),document.querySelector('#inputsModifiers input[type="text"]').value="",document.querySelector("span.monogrammer-preview__item").innerText="",document.querySelector(".productView-options .form-field.querryThis input.form-input.form-input--small").value="",document.querySelector("button.modal-close").click()}))}))}var b=r(55825);function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var w=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).url=window.location.href,r.$reviewLink=b('[data-reveal-id="modal-review-form"]'),r.$bulkPricingLink=b('[data-reveal-id="modal-bulk-pricing"]'),r.reviewModal=(0,d.ZP)("#modal-review-form")[0],r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,h(t,r);var s=i.prototype;return s.onReady=function(){var e,t,r=this;b(document).on("close.fndtn.reveal",(function(){-1!==r.url.indexOf("#write_review")&&"function"==typeof window.history.replaceState&&window.history.replaceState(null,document.title,window.location.pathname)})),(0,o.ZP)(),this.productDetails=new a.Z(b(".productView"),this.context,window.BCData.product_attributes),this.productDetails.setProductVariant(),l("[data-"+(t="video-gallery")+"]").each((function(e,r){var i=l(r);i.data(t)instanceof c||i.data(t,new c(i))})),this.bulkPricingHandler();var i=(0,u.iR)(".writeReview-form");if(0!==i.length){var d=new n.Z({$reviewForm:i});b("body").on("click",'[data-reveal-id="modal-review-form"]',(function(){e=d.registerValidation(r.context),r.ariaDescribeReviewInputs(i)})),i.on("submit",(function(){return!!e&&(e.performCheck(),e.areAll("valid"))})),this.productReviewHandler()}},s.ariaDescribeReviewInputs=function(e){e.find("[data-input]").each((function(e,t){var r=b(t),i=r.attr("name")+"-msg";r.siblings("span").attr("id",i),r.attr("aria-describedby",i)}))},s.productReviewHandler=function(){-1!==this.url.indexOf("#write_review")&&this.$reviewLink.trigger("click")},s.bulkPricingHandler=function(){-1!==this.url.indexOf("#bulk_pricing")&&this.$bulkPricingLink.trigger("click")},i}(i.Z)}}]);
//# sourceMappingURL=theme-bundle.chunk.461.js.map