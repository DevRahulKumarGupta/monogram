{"version":3,"file":"theme-bundle.chunk.461.js","mappings":"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","sources":["webpack://bigcommerce-cornerstone/./assets/js/theme/product/video-gallery.js","webpack://bigcommerce-cornerstone/./assets/js/theme/custom/monogram.js","webpack://bigcommerce-cornerstone/./assets/js/theme/product.js"],"sourcesContent":["export class VideoGallery {\n    constructor($element) {\n        this.$player = $element.find('[data-video-player]');\n        this.$videos = $element.find('[data-video-item]');\n        this.currentVideo = {};\n        this.bindEvents();\n    }\n\n    selectNewVideo(e) {\n        e.preventDefault();\n\n        const $target = $(e.currentTarget);\n\n        this.currentVideo = {\n            id: $target.data('videoId'),\n            $selectedThumb: $target,\n        };\n\n        this.setMainVideo();\n        this.setActiveThumb();\n    }\n\n    setMainVideo() {\n        this.$player.attr('src', `//www.youtube.com/embed/${this.currentVideo.id}`);\n    }\n\n    setActiveThumb() {\n        this.$videos.removeClass('is-active');\n        this.currentVideo.$selectedThumb.addClass('is-active');\n    }\n\n    bindEvents() {\n        this.$videos.on('click', this.selectNewVideo.bind(this));\n    }\n}\n\nexport default function videoGallery() {\n    const pluginKey = 'video-gallery';\n    const $videoGallery = $(`[data-${pluginKey}]`);\n\n    $videoGallery.each((index, element) => {\n        const $el = $(element);\n        const isInitialized = $el.data(pluginKey) instanceof VideoGallery;\n\n        if (isInitialized) {\n            return;\n        }\n\n        $el.data(pluginKey, new VideoGallery($el));\n    });\n}\n","import { defaultModal } from \"../global/modal\";\n\nif ($(\"#testing\").data(\"monogram-image\")) {\n  const btn = document.querySelector(\"#monogram\");\n  const inputs = document.querySelectorAll(\".form-field.querryThis\");\n  let inputsString = \"\";\n  inputs.forEach((div) => {\n    inputsString += div.outerHTML;\n  });\n  inputsString = inputsString.replace(/style=\"display:none;\"/g, \"\");\n  let mode = false;\n  btn.addEventListener(\"click\", function () {\n    mode = !mode;\n    const modal = defaultModal();\n    modal.open();\n    let imgUrl = $(\"#testing\").data(\"monogram-image\");\n    const element = `\n        <div class=\"container\" style=\"display:flex; justify-content: space-between; padding:0; align-items: center;\">\n        <div class=\"monogrammer-preview__image\" style=\"position: relative;\">\n            <img style=\"width: 100%; display:block; position:relative;\" src=\"${imgUrl}\">\n            <span class=\"monogrammer-preview__items-container\" style=\"color: #fff; font-size: 3rem; font-size: 3.8vw; line-height: 1; font-family: Martel, serif; display: inline-block; position: absolute; left: 0; top: 43%; width: 300px; word-wrap: break-word; right: 0; margin: auto; text-align: center;\">\n                <span class=\"monogrammer-preview__item\"></span>\n                <span class=\"monogrammer-preview__icons hide\"></span>\n            </span>\n        </div>\n        <div id=\"inputsModifiers\" style=\"margin:auto\">\n        ${inputsString}\n            <button class=\"button--primary\" id=\"modelClose\" style=\"padding:10px; border-radius:5px;\">ADD THIS MONOGRAM</button>\n            <button class=\"button--primary-reset\" id=\"modelCloseAndReset\" style=\"padding:10px; border-radius:5px;\">RESET & CLOSE</button>\n\n        </div>\n    </div>\n    \n        `;\n\n    $(\"#modal\").find(\".modal-content\").append(element);\n    setTimeout(() => {\n      $(\".loadingOverlay\").hide();\n    }, 1000);\n\n    const inputElement = document.querySelector(\n      '#inputsModifiers input[type=\"text\"]'\n    );\n    inputElement.value = document.querySelector(\n      \".productView-options .form-field.querryThis input.form-input.form-input--small\"\n    ).value;\n    document.querySelector(\"span.monogrammer-preview__item\").innerText =\n      document.querySelector(\n        \".productView-options .form-field.querryThis input.form-input.form-input--small\"\n      ).value;\n    inputElement.addEventListener(\"keyup\", function (event) {\n      const value = event.target.value;\n      document.querySelector(\"span.monogrammer-preview__item\").innerText =\n        value;\n      document.querySelector(\n        \".productView-options .form-field.querryThis input.form-input.form-input--small\"\n      ).value = value;\n    });\n\n    // Select all radio buttons with type=\"radio\" inside #inputsModifiers\n    const radioButtons = document.querySelectorAll(\n      \"#inputsModifiers label.form-option\"\n    );\n    const activeRadioButton = document.querySelector(\n      '.productView-details.product-options div.form-field.querryThis input.form-radio[type=\"radio\"]:checked'\n    );\n\n    for (const radioButton of radioButtons) {\n      radioButton.addEventListener(\"click\", () => {\n        radioButton.parentElement.querySelector(\n          'input[type=\"radio\"]'\n        ).checked = true;\n        document.querySelector(\"span.monogrammer-preview__item\").style.color =\n          radioButton.querySelector(\".form-option-variant\").style[\n            \"background-color\"\n          ]\n            ? radioButton.querySelector(\".form-option-variant\").style[\n                \"background-color\"\n              ]\n            : \"white\";\n\n        document.querySelector(\n          '#inputsModifiers .form-field.querryThis[data-product-attribute=\"swatch\"] label.form-label.form-label--alternate.form-label--inlineSmall span'\n        ).innerText = radioButton.querySelector(\"span\").title;\n      });\n\n      if (\n        radioButton.parentElement\n          .querySelector(\"input\")\n          .getAttribute(\"aria-label\") ==\n        activeRadioButton.getAttribute(\"aria-label\")\n      ) {\n        radioButton.click();\n      }\n    }\n\n    document.querySelector(\"#modelClose\").addEventListener(\"click\", () => {\n      document.querySelector(\"button.modal-close\").click();\n    });\n    document\n      .querySelector(\"#modelCloseAndReset\")\n      .addEventListener(\"click\", () => {\n        radioButtons[0].click();\n        document.querySelector('#inputsModifiers input[type=\"text\"]').value =\n          \"\";\n        document.querySelector(\"span.monogrammer-preview__item\").innerText = \"\";\n        document.querySelector(\n          \".productView-options .form-field.querryThis input.form-input.form-input--small\"\n        ).value = \"\";\n        document.querySelector(\"button.modal-close\").click();\n      });\n  });\n}\n","/*\n Import all product specific js\n */\nimport PageManager from './page-manager';\nimport Review from './product/reviews';\nimport collapsibleFactory from './common/collapsible';\nimport ProductDetails from './common/product-details';\nimport videoGallery from './product/video-gallery';\nimport { classifyForm } from './common/utils/form-utils';\nimport modalFactory from './global/modal';\nimport './custom/monogram';\n\nexport default class Product extends PageManager {\n    constructor(context) {\n        super(context);\n        this.url = window.location.href;\n        this.$reviewLink = $('[data-reveal-id=\"modal-review-form\"]');\n        this.$bulkPricingLink = $('[data-reveal-id=\"modal-bulk-pricing\"]');\n        this.reviewModal = modalFactory('#modal-review-form')[0];\n    }\n\n    onReady() {\n        // Listen for foundation modal close events to sanitize URL after review.\n        $(document).on('close.fndtn.reveal', () => {\n            if (this.url.indexOf('#write_review') !== -1 && typeof window.history.replaceState === 'function') {\n                window.history.replaceState(null, document.title, window.location.pathname);\n            }\n        });\n\n        let validator;\n\n        // Init collapsible\n        collapsibleFactory();\n\n        this.productDetails = new ProductDetails($('.productView'), this.context, window.BCData.product_attributes);\n        this.productDetails.setProductVariant();\n\n        videoGallery();\n\n        this.bulkPricingHandler();\n\n        const $reviewForm = classifyForm('.writeReview-form');\n\n        if ($reviewForm.length === 0) return;\n\n        const review = new Review({ $reviewForm });\n\n        $('body').on('click', '[data-reveal-id=\"modal-review-form\"]', () => {\n            validator = review.registerValidation(this.context);\n            this.ariaDescribeReviewInputs($reviewForm);\n        });\n\n        $reviewForm.on('submit', () => {\n            if (validator) {\n                validator.performCheck();\n                return validator.areAll('valid');\n            }\n\n            return false;\n        });\n\n        this.productReviewHandler();\n    }\n\n    ariaDescribeReviewInputs($form) {\n        $form.find('[data-input]').each((_, input) => {\n            const $input = $(input);\n            const msgSpanId = `${$input.attr('name')}-msg`;\n\n            $input.siblings('span').attr('id', msgSpanId);\n            $input.attr('aria-describedby', msgSpanId);\n        });\n    }\n\n    productReviewHandler() {\n        if (this.url.indexOf('#write_review') !== -1) {\n            this.$reviewLink.trigger('click');\n        }\n    }\n\n    bulkPricingHandler() {\n        if (this.url.indexOf('#bulk_pricing') !== -1) {\n            this.$bulkPricingLink.trigger('click');\n        }\n    }\n}\n"],"names":["VideoGallery","$element","this","$player","find","$videos","currentVideo","bindEvents","_proto","prototype","selectNewVideo","e","preventDefault","$target","$","currentTarget","id","data","$selectedThumb","setMainVideo","setActiveThumb","attr","removeClass","addClass","on","bind","btn","document","querySelector","inputs","querySelectorAll","inputsString","forEach","div","outerHTML","replace","mode","addEventListener","defaultModal","open","element","append","setTimeout","hide","inputElement","value","innerText","event","target","_step","radioButtons","activeRadioButton","_loop","radioButton","parentElement","checked","style","color","title","getAttribute","click","_iterator","_createForOfIteratorHelperLoose","done","Product","_PageManager","context","_this","call","url","window","location","href","$reviewLink","$bulkPricingLink","reviewModal","modalFactory","onReady","validator","pluginKey","_this2","indexOf","history","replaceState","pathname","collapsibleFactory","productDetails","ProductDetails","BCData","product_attributes","setProductVariant","each","index","$el","bulkPricingHandler","$reviewForm","classifyForm","length","review","Review","registerValidation","ariaDescribeReviewInputs","performCheck","areAll","productReviewHandler","$form","_","input","$input","msgSpanId","siblings","trigger","PageManager"],"sourceRoot":""}